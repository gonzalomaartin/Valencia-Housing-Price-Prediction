<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valencia Property Price Predictor</title>
    <link rel="icon" type="image/jpeg" href="../static/vlc_house_predictor_icon.jpg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href = "../static/style.css" rel = "stylesheet">
</head>
<body>
    <div class="container mt-5 mb-5">
        <div class="row justify-content-center">
            <div class="col-md-11 col-lg-10">
                <div class="card main-card">
                    <div class="card-header card-header-custom text-white">
                        <h1 class="mb-0">Valencia Property Price Predictor</h1>
                        <p class="mb-0">Instant AI-powered property valuations based on real market data</p>
                    </div>
                    <div class="card-body card-body-custom">
                        <form method="POST" action="/predict" id="propertyForm">
                            
                            <!-- BASIC INFORMATION -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Basic Information</h4>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="rooms" class="form-label">Rooms *</label>
                                        <input type="number" class="form-control" name="rooms" id="rooms" min="1" max="10" value="1" required>
                                    </div>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="baths" class="form-label">Bathrooms *</label>
                                        <input type="number" class="form-control" name="baths" id="baths" min="1" max="5" value="1" required>
                                    </div>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="m2_cons" class="form-label">Constructed Area (m¬≤) *</label>
                                        <input type="number" class="form-control" name="m2_cons" id="m2_cons" min="30" max="500" value="100" required>
                                    </div>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="m2_property" class="form-label">Total Property Area (m¬≤)</label>
                                        <input type="number" class="form-control" name="m2_property" id="m2_property" min="30" max="1000" placeholder="Optional">
                                    </div>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="floor" class="form-label">Floor</label>
                                        <input type="number" class="form-control" name="floor" id="floor" min="0" max="20" placeholder="Optional">
                                    </div>
                                </div>
                                
                                <div class="col-md-3">
                                    <div class="mb-3">
                                        <label for="prop_age" class="form-label">Year Built</label>
                                        <input type="number" class="form-control" name="prop_age" id="prop_age" min="1900" max="2025" placeholder="Optional">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- LOCATION -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Property Location</h4>
                                </div>
                                
                                <div class="col-12">
                                    <div class="mb-3">
                                        <label for="address" class="form-label">Search Address in Valencia</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="addressSearch" placeholder="e.g., Russafa, Valencia">
                                            <button class="btn btn-outline-secondary" type="button" id="searchBtn">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                                </svg>
                                                Search
                                            </button>
                                        </div>
                                        <small class="text-muted">Or click on the map to select a location</small>
                                    </div>
                                    
                                    <div class="map-info">
                                        <strong>üìç Selected Address:</strong> <span id="selectedAddress">Click on map or search for an address</span>
                                    </div>
                                    
                                    <div class="map-container">
                                        <div id="map"></div>
                                    </div>
                                    
                                    <input type="hidden" name="address" id="address" value="">
                                </div>
                            </div>
                            
                            <!-- PROPERTY TYPE -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Property Type</h4>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="property_type" class="form-label">Select Property Type *</label>
                                        <select class="form-select" name="property_type" id="property_type" required>
                                            <option value="piso" selected>Apartment (Piso)</option>
                                            <option value="atico">Penthouse (√Åtico)</option>
                                            <option value="duplex">Duplex</option>
                                            <option value="estudio">Studio</option>
                                            <option value="chalet">Independent House (Chalet)</option>
                                            <option value="adosado">Townhouse (Chalet Adosado)</option>
                                            <option value="pareado">Semi-detached (Chalet Pareado)</option>
                                            <option value="villa">Villa</option>
                                            <option value="masia">Farmhouse (Mas√≠a)</option>
                                            <option value="casa_rustica">Village House (Casa de Pueblo)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="condition" class="form-label">Property Condition *</label>
                                        <select class="form-select" name="condition" id="condition" required>
                                            <option value="good" selected>Good Condition</option>
                                            <option value="new">New Construction (Obra Nueva)</option>
                                            <option value="renovate">Needs Renovation (Para Reformar)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ORIENTATION -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Orientation</h4>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="east" id="east" value="true">
                                        <label class="form-check-label" for="east">East (Este)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="north" id="north" value="true">
                                        <label class="form-check-label" for="north">North (Norte)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="south" id="south" value="true">
                                        <label class="form-check-label" for="south">South (Sur)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="west" id="west" value="true">
                                        <label class="form-check-label" for="west">West (Oeste)</label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- AMENITIES -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Amenities & Features</h4>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="garage" id="garage" value="true">
                                        <label class="form-check-label" for="garage">Garage (Garaje)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="lift" id="lift" value="true">
                                        <label class="form-check-label" for="lift">Elevator (Ascensor)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="AC" id="AC" value="true">
                                        <label class="form-check-label" for="AC">Air Conditioning</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="heating" id="heating" value="true">
                                        <label class="form-check-label" for="heating">Heating (Calefacci√≥n)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="balcony" id="balcony" value="true">
                                        <label class="form-check-label" for="balcony">Balcony (Balc√≥n)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="terrace" id="terrace" value="true">
                                        <label class="form-check-label" for="terrace">Terrace (Terraza)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="pool" id="pool" value="true">
                                        <label class="form-check-label" for="pool">Pool (Piscina)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="garden" id="garden" value="true">
                                        <label class="form-check-label" for="garden">Garden (Jard√≠n)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="wardrobes" id="wardrobes" value="true">
                                        <label class="form-check-label" for="wardrobes">Built-in Wardrobes</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="trastero" id="trastero" value="true">
                                        <label class="form-check-label" for="trastero">Storage Room (Trastero)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="fireplace" id="fireplace" value="true">
                                        <label class="form-check-label" for="fireplace">Fireplace (Chimenea)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-3 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="mobility" id="mobility" value="true">
                                        <label class="form-check-label" for="mobility">Wheelchair Accessible</label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- SPECIAL FEATURES -->
                            <div class="row mb-5">
                                <div class="col-12">
                                    <h4 class="section-title">Special Features & Status</h4>
                                </div>
                                
                                <div class="col-md-4 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="sea_views" id="sea_views" value="true">
                                        <label class="form-check-label" for="sea_views"> Sea Views (Vistas al Mar)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="nuda" id="nuda" value="true">
                                        <label class="form-check-label" for="nuda">Bare Ownership (Nuda Propiedad)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="ocupada" id="ocupada" value="true">
                                        <label class="form-check-label" for="ocupada">Illegally Occupied (Ocupada)</label>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 col-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" name="rented" id="rented" value="true">
                                        <label class="form-check-label" for="rented">Rented (Alquilada)</label>
                                    </div>
                                </div>
                            </div>
                            
                            <hr class="my-4">
                            
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-submit" id="submitBtn">
                                    Predict Price
                                </button>
                                <div class="mt-3">
                                    <small class="required-note">* Required fields</small>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- API Info Card -->
                <div class="card api-card mt-4">
                    <div class="card-header api-card-header text-white">
                        <h5 class="mb-0">API Access</h5>
                    </div>
                    <div class="card-body api-card-body">
                        <p class="mb-3">This application provides a REST API for programmatic access:</p>
                        <ul class="list-unstyled mb-0">
                            <li class="mb-2"><strong>Documentation:</strong> <a href="/docs" target="_blank" class="text-decoration-none">Interactive API Docs</a></li>
                            <li class="mb-2"><strong>Endpoint:</strong> <code>POST /api/predict</code></li>
                            <li class="mb-2"><strong>Format:</strong> JSON request/response</li>
                            <li><strong>Fields:</strong> All 30 property features supported</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="../static/scripts.js"></script>
</body>
</html>